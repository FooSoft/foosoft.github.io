<!DOCTYPE html><html lang="en"><head>
        <meta charset="utf-8"/>
        <meta name="viewport" content="width=device-width, initial-scale=1"/>
        <link rel="stylesheet" href="/lib/bootstrap/css/bootstrap.min.css"/>
        <link rel="stylesheet" href="/lib/tether/css/tether.min.css"/>
        <link rel="stylesheet" href="/lib/tether/css/tether-theme-basic.min.css"/>
        <link rel="stylesheet" href="/lib/lightbox/ekko-lightbox.css"/>
        <link rel="stylesheet" href="/main.css"/>
        
        <title>FooSoft Productions - Kanji Frequency in Wikipedia and Novels</title>
        
    </head>
    <body>


<nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
    <a class="navbar-brand" href="/">FooSoft Productions</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup">
        <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
        <div class="navbar-nav ml-auto">
            
            <a class="nav-item nav-link " href="/">Overview</a>
            <a class="nav-item nav-link active" href="/posts/">Posts</a>
            <a class="nav-item nav-link " href="/portfolio/">Portfolio</a>
            <a class="nav-item nav-link " href="/projects/">Projects</a>
            <a class="nav-item nav-link " href="/tags/">Tags</a>
        </div>
    </div>
</nav>




<div class="container">
    <h1>
        Kanji Frequency in Wikipedia and Novels
        
    </h1>
    

<div>
    
    <a class="badge badge-secondary" href="/tags/japanese/index.html">japanese</a>
    
    <a class="badge badge-secondary" href="/tags/kanji/index.html">kanji</a>
    
    <a class="badge badge-secondary" href="/tags/perl/index.html">perl</a>
    
    <a class="badge badge-secondary" href="/tags/remembering-the-kanji/index.html">remembering the kanji</a>
    
    <a class="badge badge-secondary" href="/tags/research/index.html">research</a>
    
    <a class="badge badge-secondary" href="/tags/wikipedia/index.html">wikipedia</a>
    
</div>


    <hr/>
    <p>I love learning new Kanji, probably too much in fact. Once I finished <a href="http://en.wikipedia.org/wiki/Remembering_the_Kanji">Remembering The
Kanji</a> Volume 1 &amp; 3 I couldn’t just quit! I had to find more
characters to study! After memorizing another meager 25 or so Kanji to catch up to the proposed revision of the 常用漢字
standard, I tried to find good frequency lists on the internet but none were very extensive and had relatively limited
sample sizes.</p>
<p>At some point, an idea came to me that the Japanese Wikipedia would be a really good source of data. It could be
downloaded for offline processing and obviously includes every possible topic. I whipped up a couple of Perl scripts to
process the 20 gigabytes or so of data. About six hours later (maybe I should have done this in C++?) I had a nice
sorted table of characters ready for processing. I wrote a couple more scripts to generate reports that applied the
frequency data to the RTK1, RTK3, 常用漢字 (old and new), and finally the 人名用漢字 (just for fun) character lists.</p>
<p>After I completed by analysis of Wikipedia, I ran a slightly modified version of my script on a several gigabytes of
assorted novels in raw text format. I’m also including this data as it is another great indicator of actual Japanese
language usage. Depending on what kind of text you are planning on reading, this report may even be more suitable than
the original Wikipedia analysis.</p>
<p>These reports span over 500 million characters, (over 20k of which are unique).  This is obviously a tremendous amount
of data. Let me know if you want to see something else included in the reports about this data that isn’t yet!</p>
<h2 id="frequency-reports">Frequency Reports</h2>
<ul>
<li><strong>Wikipedia</strong>
<ul>
<li>Reports for characters appearing at least
<a href="/posts/kanji-frequency/dl/report1.tar.gz">1</a>,
<a href="/posts/kanji-frequency/dl/report10.tar.gz">10</a>,
<a href="/posts/kanji-frequency/dl/report100.tar.gz">100</a>,
<a href="/posts/kanji-frequency/dl/report1000.tar.gz">1000</a>, or
<a href="/posts/kanji-frequency/dl/report10000.tar.gz">10000</a> times.</li>
<li>All of the Wikipedia reports in <a href="/posts/kanji-frequency/dl/reports.tar.gz">compressed format</a> (from the above links).</li>
<li>Generator <a href="/posts/kanji-frequency/dl/scripts.tar.gz">Perl scripts and raw data</a> that were used to process this data.</li>
</ul>
</li>
</ul>
<ul>
<li><strong>Novels</strong>
<ul>
<li>Alternate sample report on <a href="/posts/kanji-frequency/dl/novel/report.tar.gz">text from hundreds of novels</a>.</li>
</ul>
</li>
</ul>

    

<div>
    <nav class="breadcrumb">
        
        <a href="/posts/index.html" class="breadcrumb-item">Posts</a>
        
        
        <span class="breadcrumb-item active">Kanji Frequency in Wikipedia and Novels</span>
        
    </nav>
</div>


</div>

    <script src="/lib/jquery.min.js"></script>
    <script src="/lib/tether/js/tether.min.js"></script>
    <script src="/lib/bootstrap/js/bootstrap.min.js"></script>
    <script src="/lib/lightbox/ekko-lightbox.min.js"></script>
    <script src="/main.js"></script>
    



<!-- begin livejs code -->
<script>
 /*
  Live.js - One script closer to Designing in the Browser
  Written for Handcraft.com by Martin Kool (@mrtnkl).

  Version 4.
  Recent change: Made stylesheet and mimetype checks case insensitive.

  http://livejs.com
  http://livejs.com/license (MIT)  
  @livejs

  Include live.js#css to monitor css changes only.
  Include live.js#js to monitor js changes only.
  Include live.js#html to monitor html changes only.
  Mix and match to monitor a preferred combination such as live.js#html,css  

  By default, just include live.js to monitor all css, js and html changes.
  
  Live.js can also be loaded as a bookmarklet. It is best to only use it for CSS then,
  as a page reload due to a change in html or css would not re-include the bookmarklet.
  To monitor CSS and be notified that it has loaded, include it as: live.js#css,notify
*/
(function () {

  var headers = { "Etag": 1, "Last-Modified": 1, "Content-Length": 1, "Content-Type": 1 },
      resources = {},
      pendingRequests = {},
      currentLinkElements = {},
      oldLinkElements = {},
      interval = 1000,
      loaded = false,
      active = { "html": 1, "css": 1, "js": 1 };

  var Live = {

    // performs a cycle per interval
    heartbeat: function () {      
      if (document.body) {        
        // make sure all resources are loaded on first activation
        if (!loaded) Live.loadresources();
        Live.checkForChanges();
      }
      setTimeout(Live.heartbeat, interval);
    },

    // loads all local css and js resources upon first activation
    loadresources: function () {

      // helper method to assert if a given url is local
      function isLocal(url) {
        var loc = document.location,
            reg = new RegExp("^\\.|^\/(?!\/)|^[\\w]((?!://).)*$|" + loc.protocol + "//" + loc.host);
        return url.match(reg);
      }

      // gather all resources
      var scripts = document.getElementsByTagName("script"),
          links = document.getElementsByTagName("link"),
          uris = [];

      // track local js urls
      for (var i = 0; i < scripts.length; i++) {
        var script = scripts[i], src = script.getAttribute("src");
        if (src && isLocal(src))
          uris.push(src);
        if (src && src.match(/\blive.js#/)) {
          for (var type in active)
            active[type] = src.match("[#,|]" + type) != null
          if (src.match("notify")) 
            alert("Live.js is loaded.");
        }
      }
      if (!active.js) uris = [];
      if (active.html) uris.push(document.location.href);

      // track local css urls
      for (var i = 0; i < links.length && active.css; i++) {
        var link = links[i], rel = link.getAttribute("rel"), href = link.getAttribute("href", 2);
        if (href && rel && rel.match(new RegExp("stylesheet", "i")) && isLocal(href)) {
          uris.push(href);
          currentLinkElements[href] = link;
        }
      }

      // initialize the resources info
      for (var i = 0; i < uris.length; i++) {
        var url = uris[i];
        Live.getHead(url, function (url, info) {
          resources[url] = info;
        });
      }

      // add rule for morphing between old and new css files
      var head = document.getElementsByTagName("head")[0],
          style = document.createElement("style"),
          rule = "transition: all .3s ease-out;"
      css = [".livejs-loading * { ", rule, " -webkit-", rule, "-moz-", rule, "-o-", rule, "}"].join('');
      style.setAttribute("type", "text/css");
      head.appendChild(style);
      style.styleSheet ? style.styleSheet.cssText = css : style.appendChild(document.createTextNode(css));

      // yep
      loaded = true;
    },

    // check all tracking resources for changes
    checkForChanges: function () {
      for (var url in resources) {
        if (pendingRequests[url])
          continue;

        Live.getHead(url, function (url, newInfo) {
          var oldInfo = resources[url],
              hasChanged = false;
          resources[url] = newInfo;
          for (var header in oldInfo) {
            // do verification based on the header type
            var oldValue = oldInfo[header],
                newValue = newInfo[header],
                contentType = newInfo["Content-Type"];
            switch (header.toLowerCase()) {
              case "etag":
                if (!newValue) break;
                // fall through to default
              default:
                hasChanged = oldValue != newValue;
                break;
            }
            // if changed, act
            if (hasChanged) {
              Live.refreshResource(url, contentType);
              break;
            }
          }
        });
      }
    },

    // act upon a changed url of certain content type
    refreshResource: function (url, type) {
      switch (type.toLowerCase()) {
        // css files can be reloaded dynamically by replacing the link element                               
        case "text/css":
          var link = currentLinkElements[url],
              html = document.body.parentNode,
              head = link.parentNode,
              next = link.nextSibling,
              newLink = document.createElement("link");

          html.className = html.className.replace(/\s*livejs\-loading/gi, '') + ' livejs-loading';
          newLink.setAttribute("type", "text/css");
          newLink.setAttribute("rel", "stylesheet");
          newLink.setAttribute("href", url + "?now=" + new Date() * 1);
          next ? head.insertBefore(newLink, next) : head.appendChild(newLink);
          currentLinkElements[url] = newLink;
          oldLinkElements[url] = link;

          // schedule removal of the old link
          Live.removeoldLinkElements();
          break;

        // check if an html resource is our current url, then reload                               
        case "text/html":
          if (url != document.location.href)
            return;

          // local javascript changes cause a reload as well
        case "text/javascript":
        case "application/javascript":
        case "application/x-javascript":
          document.location.reload();
      }
    },

    // removes the old stylesheet rules only once the new one has finished loading
    removeoldLinkElements: function () {
      var pending = 0;
      for (var url in oldLinkElements) {
        // if this sheet has any cssRules, delete the old link
        try {
          var link = currentLinkElements[url],
              oldLink = oldLinkElements[url],
              html = document.body.parentNode,
              sheet = link.sheet || link.styleSheet,
              rules = sheet.rules || sheet.cssRules;
          if (rules.length >= 0) {
            oldLink.parentNode.removeChild(oldLink);
            delete oldLinkElements[url];
            setTimeout(function () {
              html.className = html.className.replace(/\s*livejs\-loading/gi, '');
            }, 100);
          }
        } catch (e) {
          pending++;
        }
        if (pending) setTimeout(Live.removeoldLinkElements, 50);
      }
    },

    // performs a HEAD request and passes the header info to the given callback
    getHead: function (url, callback) {
      pendingRequests[url] = true;
      var xhr = window.XMLHttpRequest ? new XMLHttpRequest() : new ActiveXObject("Microsoft.XmlHttp");
      xhr.open("HEAD", url, true);
      xhr.onreadystatechange = function () {
        delete pendingRequests[url];
        if (xhr.readyState == 4 && xhr.status != 304) {
          xhr.getAllResponseHeaders();
          var info = {};
          for (var h in headers) {
            var value = xhr.getResponseHeader(h);
            // adjust the simple Etag variant to match on its significant part
            if (h.toLowerCase() == "etag" && value) value = value.replace(/^W\//, '');
            if (h.toLowerCase() == "content-type" && value) value = value.replace(/^(.*?);.*?$/i, "$1");
            info[h] = value;
          }
          callback(url, info);
        }
      }
      xhr.send();
    }
  };

  // start listening
  if (document.location.protocol != "file:") {
    if (!window.liveJsLoaded)
      Live.heartbeat();

    window.liveJsLoaded = true;
  }
  else if (window.console)
    console.log("Live.js doesn't support the file protocol. It needs http.");    
})();
</script>
<!-- end livejs code -->
</body></html>